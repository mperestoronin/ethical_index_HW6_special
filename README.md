# ethical_index

Гайд по развертыванию расположен на [wiki](https://github.com/shar3nda/ethical_index/wiki)

## Структура датасета

Датасет состоит из JSON-файла, корневой элемент которого - список объектов, каждый из которых представляет собой документ, аннотацию или документ с аннотацией (в зависимости от выбранного типа выгрузки).

Один документ представляет собой фрагмент определенной правовой нормы (как правило, в поле `title` документа указано название фрагмента). Также он содержит значения классификаторов, которые проставил эксперт-разметчик и метаданные о тексте.

Аннотации - фрагменты текста документа, в которых разметчики выделяют основные элементы нормы. В аннотации возможен выбор только одного типа нормы и/или профиля нормы данного фрагмента и добавление опционального комментария.

## Пример выгрузки с комментариями

```json
[
  {
    "id": 59,  // id документа
    "username": "annotator14",  // имя пользователя, добавившего норму
    "annotations": [  // список аннотаций
      {
        "id": "20f95438-103a-44d1-bdd4-b2836f5f462c", // id аннотации
        "document": 59,  // id документа
        "start": 0,  // начало аннотации в символах от старта текста (включительно)
        "end": 14,  // конец аннотации (не включительно)
        "orig_text": "Не допускается",  // текст аннотированного фрагмента
        "comment": null,  // опциональный комментарий разметчика
        "law_type": "BAN",  // выбранный тип нормы для аннотации
        "law_justification": "UNCHECKED"  // выбранный профиль нормы
      },
      {
        // то же самое
        "id": "01b73c5c-e46a-4525-be59-e05ff41b012d",
        "document": 59,
        "start": 46,
        "end": 68,
        "orig_text": "несовместимая с целями",
        "comment": null,
        "law_type": "UNCHECKED",
        "law_justification": "CARE"
      }
    ],
    "title": "ч. 2 ст. 5",  // название добавленного фрагмента
    "text": "Не допускается обработка персональных данных, несовместимая с целями сбора персональных данных.",  // текст документа
    "created_at": "2023-08-18T19:53:39.036604Z",  // дата добавления документа
    // ===ПРОФИЛЬ НОРМЫ===
    "AUTH_points": 0,  // авторитет
    "LOYAL_points": 0,  // лояльность
    "FAIR_points": 0,  // справедливость
    "PUR_points": 0,  // чистота
    "NON_points": 6,  // нет этической окраски
    // определяется автоматически по самому высокому значению
    "dominant_justification": "NON",  // доминирующий профиль нормы
    // ===ТИП НОРМЫ===
    // выбирается разметчиком вручную из списка
    "law_type": "BAN",
    "NPA": "ОПД",  // название НПА, из которого взят фрагмент
    "status": "MARKED",  // статус документа (MARKED - размечен, UNMARKED - не размечен, CHECKED - проверен)
    "user": 19  // id пользователя
  },
  // ...
]
```

## Возможные значения атрибутов

- `law_type` - тип нормы
  - `DUTY` - Обязанность
  - `ALLOW` - Дозволение
  - `BAN` - Запрет
  - `DEF` - Дефиниция
  - `DEC` - Декларация
  - `GOAL` - Цель
  - `UNCHECKED` - Не проверено
  - `OTHER` - Иное

- `law_justification` / `dominant_justification` - профиль нормы
  - `AUTH` - Авторитет
  - `LOYAL` - Лояльность
  - `FAIR` - Справедливость
  - `PUR` - Чистота
  - `NON` - Нет этической окраски
  - `CARE` - Забота
  - `UNCHECKED` - Не проверено

- `status` - статус документа
  - `MARKED` - размечен
  - `UNMARKED` - не размечен
  - `CHECKED` - проверен (проверяется админом)
